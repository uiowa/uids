@import '../../assets/scss/variables';
@import '../../assets/scss/utilities';

[class*="inline--"] {
  --inline-margin-lg: var(--space-lg-width-gutter);
  --inline-margin-sm: var(--space-sm-width-gutter);
  margin-block: var(--callout-spacing-sm);
}

// === Element alignment classes  === //
.inline--align-left {
  @include breakpoint(sm) {
    float: left;
    margin-block: var(--inline-margin-sm);
    margin-inline-end: var(--inline-margin-sm);

    &[class*="bg-"] {
      margin-inline-end: var(--inline-margin-lg);
    }
  }
}

.inline--align-center {
  @include breakpoint(sm) {
    margin: 0 auto;

    &[class*="bg-"] {
      margin-block: var(--inline-margin-sm);
    }
  }
}

.inline--align-right {
  @include breakpoint(sm) {
    float: right;
    margin-block: var(--inline-margin-sm);
    margin-inline-start: var(--inline-margin-sm);

    &[class*="bg-"] {
      margin-inline-start: var(--inline-margin-lg);
    }
  }
}

// Set container query max-width sizes for images.
@supports (contain: inline-size) {
  @container column (min-width: #{$break-xxsm}) and (max-width: #{$break-sm}) {
    .inline--align-right {
      float: right;
      margin-block: var(--inline-margin-sm);
      margin-inline-start: var(--inline-margin-sm);
    }

    .inline--align-left {
      float: left;
      margin-block: var(--inline-margin-sm);
      margin-inline-end: var(--inline-margin-sm);
    }
  }
}
// === End: element alignment classes === //

// === Element media sizes === //
[class*="inline--size-"] {
  max-width: 100%;
}

.inline--size-small {
  @include breakpoint(sm) {
    max-width: 35%;
  }
}

.inline--size-medium {
  @include breakpoint(sm) {
    max-width: 45%;
  }
}

.inline--size-large {
  @include breakpoint(sm) {
    max-width: 55%;
  }
}

// Set container query max-width sizes for images.
@supports (contain: inline-size) {
  [class*="inline--size-"] {
    //max-width: 100%;
  }

  figure[class*="inline--size-"] {
    img {
      width: 100%;
    }
  }

  @container column (width < #{$break-xxsm}) {
    [class*="inline--size-"] {
      max-width: 100%;

      &.inline--align-left,
      &.inline--align-right, {
        margin-inline-start: 0;
        margin-inline-end: 0;
      }
    }
  }

  @container column (min-width: #{$break-xxsm}) {
    .inline--size-small {
      max-width: 50%;
    }
  }

  @container column (min-width: #{$break-xsm}) {
    .inline--size-medium {
      max-width: 67%;
    }
  }

  @container column (min-width: #{$break-md}) {
    .inline--size-small {
      max-width: 40%;
    }

    .inline--size-medium {
      max-width: 50%;
    }

    .inline--size-large {
      max-width: 70%;
    }
  }

  @container column (min-width: #{$break-lg}) {
    .inline--size-small {
      max-width: 33%;
    }

    .inline--size-large {
      max-width: 75%;
    }
  }
}
// === End: element media sizes === //
